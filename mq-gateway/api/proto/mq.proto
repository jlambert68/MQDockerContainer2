syntax = "proto3";

package mqpb;

option go_package = "./mq_grpc_api";

service MqGrpcServices {
  rpc Put (PutRequest) returns (PutResponse) {
  }
  rpc Get (GetRequest) returns (GetResponse){
  }
  rpc BrowseFirst (BrowseFirstRequest) returns (BrowseResponse){
  }
  rpc BrowseNext (BrowseNextRequest) returns (BrowseResponse){
  }
  rpc InquireQueue (InquireQueueRequest) returns (InquireQueueResponse){
  }
}

message PutRequest {
  string queue   = 1;
  string message = 2;
}

message PutResponse {
  string status = 1;
  string error  = 2;
}

message GetRequest {
  string queue        = 1;
  int32  wait_ms      = 2;
  int32  max_msg_bytes= 3;
}

message GetResponse {
  string status  = 1;
  string message = 2;
  bool   empty   = 3;
  string error   = 4;
}

message BrowseFirstRequest {
  string queue         = 1;
  int32  wait_ms       = 2;
  int32  max_msg_bytes = 3;
}

message BrowseNextRequest {
  string browse_id     = 1;
  int32  wait_ms       = 2;
  int32  max_msg_bytes = 3;
}

message BrowseResponse {
  string status    = 1;
  string message   = 2;
  bool   empty     = 3;
  string browse_id = 4;
  string error     = 5;
}

message InquireQueueRequest {
  string queue = 1;
}

message InquireQueueResponse {
  string status            = 1;
  string queue             = 2;
  string queue_desc        = 3;
  int32  queue_type        = 4;
  int32  queue_usage       = 5;
  int32  def_persistence   = 6;
  int32  inhibit_get       = 7;
  int32  inhibit_put       = 8;
  int32  current_q_depth   = 9;
  int32  max_q_depth       = 10;
  int32  open_input_count  = 11;
  int32  open_output_count = 12;
  string error             = 13;
}
